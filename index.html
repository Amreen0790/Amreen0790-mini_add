<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Add Two Numbers</title>
  <meta name="theme-color" content="#111827">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="icons/icon-192.png">
  <style>
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial,sans-serif;background:linear-gradient(#0f172a,#1f2937);color:#e5e7eb}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:420px;background:rgba(15,23,42,.75);border:1px solid rgba(148,163,184,.2);border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,.3);padding:20px}
    .title{margin:0 0 6px;font-weight:700;font-size:28px}
    .subtitle{margin:0 0 18px;color:#cbd5e1;font-size:13px}
    .label{font-size:12px;color:#cbd5e1;margin-bottom:6px}
    input{width:100%;padding:12px 14px;border-radius:14px;background:#1f2937;border:1px solid #374151;color:#e5e7eb;outline:none}
    input:focus{border-color:#818cf8;box-shadow:0 0 0 3px rgba(99,102,241,.35)}
    .row{display:grid;gap:12px}
    .btns{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
    button{padding:10px 12px;border-radius:14px;border:none;background:#6366f1;color:white;font-weight:600}
    button:active{transform:translateY(1px)}
    .result{margin-top:12px;padding:14px;border-radius:14px;background:#1f2937;border:1px solid #374151}
    .hint{margin-top:8px;color:#94a3b8;font-size:12px}
    footer{margin-top:12px;text-align:center;color:#94a3b8;font-size:11px}
    kbd{background:#111827;padding:2px 6px;border-radius:6px;border:1px solid #374151}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1 class="title">Add Two Numbers</h1>
      <p class="subtitle">Tiny offline-friendly calculator you can install</p>
      <div class="row">
        <label class="label" for="a">First number</label>
        <input id="a" type="text" inputmode="decimal" placeholder="e.g., 12.5">
      </div>
      <div class="row" style="margin-top:10px">
        <label class="label" for="b">Second number</label>
        <input id="b" type="text" inputmode="decimal" placeholder="e.g., 7">
      </div>
      <div class="btns">
        <button id="swap" title="Swap inputs">Swap</button>
        <button id="clear" title="Clear inputs">Clear</button>
        <button id="copy" title="Copy result">Copy</button>
      </div>
      <div class="result">
        <div class="label" style="margin:0">Result</div>
        <div id="sum" style="font-size:34px;font-weight:700;word-break:break-all">—</div>
        <div id="status" class="hint">Ready</div>
      </div>
      <details class="hint">
        <summary>Tips</summary>
        <ul>
          <li>Works with negative and decimal numbers (dot or comma).</li>
          <li>Swap quickly with the <kbd>Swap</kbd> button.</li>
          <li>Copy the result to paste anywhere.</li>
        </ul>
      </details>
      <footer>No data leaves your device.</footer>
    </div>
  </div>

  <script>
    const a = document.getElementById('a');
    const b = document.getElementById('b');
    const sumEl = document.getElementById('sum');
    const statusEl = document.getElementById('status');
    const isValid = v => /^-?\d*(?:[.,]?\d*)?$/.test(v);
    const parse = v => v.trim()==='' ? 0 : Number(v.replace(',', '.'));
    function update(){
      const v = parse(a.value) + parse(b.value);
      sumEl.textContent = Number.isFinite(v) ? String(v) : '—';
    }
    function flash(msg, t=1000){ statusEl.textContent = msg; setTimeout(()=>statusEl.textContent='Ready', t); }
    a.addEventListener('input', e=>{ if(isValid(e.target.value.replace(',', '.'))) update(); else e.target.value = e.target.value.slice(0,-1); });
    b.addEventListener('input', e=>{ if(isValid(e.target.value.replace(',', '.'))) update(); else e.target.value = e.target.value.slice(0,-1); });
    document.getElementById('swap').onclick = ()=>{ const av=a.value; a.value=b.value; b.value=av; update(); flash('Swapped'); };
    document.getElementById('clear').onclick = ()=>{ a.value=''; b.value=''; update(); flash('Cleared'); };
    document.getElementById('copy').onclick = async()=>{ try{ await navigator.clipboard.writeText(sumEl.textContent); flash('Copied', 1200);}catch{ flash('Copy not available',1500);} };
    update();

    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js'));
    }
  </script>
</body>
</html>
